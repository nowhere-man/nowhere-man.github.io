---
layout: post
title: WSL中配置Ubuntu 24.04
slug: ubuntu-24.04-wsl-configuration
categories: [环境配置]
tags: [Ubuntu, 环境配置]
---

## WSL

前置条件
+ 开启BIOS虚拟化
+ 可选功能中开启Hyper-V和WSL
+ powershell管理员模式下执行`bcdedit /set hypervisorlaunchtype auto`

```bash
wsl --set-default-version 2
wsl --update
wsl --list --online
wsl --install -d Ubuntu-24.04
```

## 设置root密码
```bash
sudo passwd
```

## 设置sudo免输密码
```bash
# 使用root账户登录
passwd username
chmod u+w /etc/sudoers
echo "username ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
chmod u-w /etc/sudoers
```

## 替换apt源
```bash
# 备份
cd /etc/apt/sources.list.d
sudo cp ubuntu.sources ubuntu.sources.bak

# 修改ubuntu.sources
Types: deb
URIs: http://mirrors.aliyun.com/ubuntu/
Suites: noble noble-updates noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

# 更新
sudo apt update
sudo apt upgrade
```

## 生成ssh-key
```bash
ssh-keygen
```

## git配置
```bash
git config --global user.name "username"
git config --global user.email "email"
```

## 安装apt包
```bash
sudo apt install build-essential nasm yasm cmake gdb pkg-config python3 ruby vim cloc tree zip neofetch net-tools
sudo apt install llvm lldb clang-format clang-tidy
```

## [安装node.js](https://nodejs.org/en/download/current)

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
\. "$HOME/.nvm/nvm.sh"
nvm install 24
node -v # Should print "v24.5.0".
nvm current # Should print "v24.5.0".
npm -v # Should print "11.5.1".
```

## 安装minicoda
参考这篇教程: [miniconda安装及使用](/2025/08/10/miniconda-installation-and-usage/)
