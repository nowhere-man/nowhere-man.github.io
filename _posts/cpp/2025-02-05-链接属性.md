---
layout: post
title: 链接属性
slug: linkage
categories: [C++总结]
tags: [C++]
---

## 编译单元
编译器在编译代码时，只会去编译.cpp格式的源文件，并且预编译器会递归的把.cpp所有#include的头文件都拷贝到.cpp文件中去，之后对这个文件再进行编译，生成二进制的.obj文件，然后链接器会将所有的obj文件进行链接，生成最终可执行文件。所以**每一个.cpp文件都是一个编译单元**。

## 内部链接
如果一个名称对于他的编译单元是局部的，并且在链接时不会与其他的编译单元中同样的名字冲突，那么这个名称就拥有内部链接。

一个实体有内部链接，他就不会与其他.cpp文件同名的实体冲突。换个说法，**那些编译单元（.cpp）中不能向其他编译单元（.cpp）展示提供其定义的函数或变量就拥有内部链接**。

## 外部链接
一个多文件的程序中，一个实体可以在链接时与其他编译单元交互，那么这个实体就拥有外部链接。

换个说法，**那些编译单元（.cpp）中能给其他编译单元（.cpp）提供其定义，让其他编译单元(.cpp)使用的函数或变量就拥有外部链接**。