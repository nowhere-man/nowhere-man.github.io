---
layout: post
title: STL容器：map核心总结
slug: stl-map
categories: [C++总结]
tags: [STL]
---

## 成员函数

### **访问**

| 成员函数                           | 函数说明                                                     |
| ---------------------------------- | ------------------------------------------------------------ |
| `at(key)`          | **带有边界检查**，返回对键为 `key` 的元素的引用。如果键不存在，则抛出 `std::out_of_range` 异常。 |
| `operator[](key)`  | 如果键 `key` 不存在，则插入一个新元素并返回对它的引用；如果键存在，返回对现有元素的引用。 |
| `find(key)`        | 查找键为 `key` 的元素。如果找到，返回指向该元素的迭代器；否则返回 `end()`。 |
| `count(key)`       | 返回键为 `key` 的元素数量。由于 `map` 的键唯一，该函数返回值只能是 `0` 或 `1`。 |
| `equal_range(key)` | 返回一个迭代器对，表示所有键等于 `key` 的元素范围。由于键唯一，该范围要么为空，要么包含一个元素。 |
| `lower_bound(key)` | 返回一个迭代器，指向键不小于 `key` 的第一个元素。            |
| `upper_bound(key)` | 返回一个迭代器，指向键大于 `key` 的第一个元素。              |

### **修改**

| 成员函数                          | 说明                                               |
| --------------------------------- | -------------------------------------------------- |
| `insert(value)` | 插入一个键值对 `value`。如果键已存在，则插入失败。 |
| `emplace(Args&&... args)`         | 通过就地构造一个新元素，并将其插入到 `map` 中。    |
| `erase(const_iterator position)`  | 移除 `position` 处的元素。                         |
| `erase(key)`      | 移除键为 `key` 的所有元素，返回被移除的元素数量。  |
| `clear()`                         | 移除所有元素，使 `map` 变为空。                    |
| `swap(map& other)`                | 与另一个 `map` 交换内容。                          |

### **容量**

| 成员函数     | 说明                                   |
| ------------ | -------------------------------------- |
| `empty()`    | 如果 `map` 中没有元素，则返回 `true`。 |
| `size()`     | 返回 `map` 中元素的数量。              |
| `max_size()` | 返回 `map` 可以容纳的最大元素数量。    |

### **迭代器**

| 成员函数    | 说明                                              |
| ----------- | ------------------------------------------------- |
| `begin()`   | 返回指向第一个元素的迭代器。                      |
| `end()`     | 返回指向最后一个元素之后位置的迭代器。            |
| `rbegin()`  | 返回指向最后一个元素的反向迭代器。                |
| `rend()`    | 返回指向第一个元素之前位置的反向迭代器。          |
| `cbegin()`  | 返回指向第一个元素的 `const` 迭代器。             |
| `cend()`    | 返回指向最后一个元素之后位置的 `const` 迭代器。   |
| `crbegin()` | 返回指向最后一个元素的 `const` 反向迭代器。       |
| `crend()`   | 返回指向第一个元素之前位置的 `const` 逆向迭代器。 |
